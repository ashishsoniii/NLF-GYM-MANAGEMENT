import{r as f,e as yn,f as jn,_ as gt,o as on,j as n,h as Er,i as W,k as kt,l as an,m as kr,n as wn,s as xt,q as Ar,t as Pn,v as Cn,a as Dn,u as Rr,w as $r,x as Ir,y as lt,G as sn,z as ct,P as u,B as qe,A as Tn,T as z,D as Sn,C as se,E as On,S as xe,F as En,I as kn,H as ae,J as At,K as An,W as Rn,M as ie,L as Mr}from"./index-082a7ee0.js";import{C as ke,a as de}from"./Card-d98dd1f2.js";import{C as $n,a as In}from"./CardContent-72e27a9a.js";import{T as De,a as q,b as Mn,c as Nn,d as Wn,e as Ln,f as Bn,g as Fn,G as I}from"./TableSortLabel-7f049ea0.js";import{u as Nr,a as Wr,O as qn,T as L}from"./TextField-e01313c8.js";import{C as Mt}from"./Container-aed5469d.js";import{C as Lr,G as K}from"./CardHeader-73823273.js";import{L as Nt}from"./LoadingButton-ce7f91fa.js";import{D as vt,a as bt,b as yt,c as jt,C as zn,L as Br}from"./label-77515f4e.js";const Fr={disableDefaultClasses:!1},qr=f.createContext(Fr);function zr(e){const{disableDefaultClasses:t}=f.useContext(qr);return r=>t?"":e(r)}var Y="top",ee="bottom",te="right",X="left",Wt="auto",Ze=[Y,ee,te,X],We="start",Ke="end",_r="clippingParents",_n="viewport",Ge="popper",Ur="reference",ln=Ze.reduce(function(e,t){return e.concat([t+"-"+We,t+"-"+Ke])},[]),Un=[].concat(Ze,[Wt]).reduce(function(e,t){return e.concat([t,t+"-"+We,t+"-"+Ke])},[]),Hr="beforeRead",Vr="read",Gr="afterRead",Yr="beforeMain",Xr="main",Jr="afterMain",Kr="beforeWrite",Qr="write",Zr="afterWrite",eo=[Hr,Vr,Gr,Yr,Xr,Jr,Kr,Qr,Zr];function fe(e){return e?(e.nodeName||"").toLowerCase():null}function Q(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Re(e){var t=Q(e).Element;return e instanceof t||e instanceof Element}function Z(e){var t=Q(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Lt(e){if(typeof ShadowRoot>"u")return!1;var t=Q(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function to(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},a=t.attributes[r]||{},i=t.elements[r];!Z(i)||!fe(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(c){var l=a[c];l===!1?i.removeAttribute(c):i.setAttribute(c,l===!0?"":l)}))})}function no(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],i=t.attributes[o]||{},c=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),l=c.reduce(function(s,m){return s[m]="",s},{});!Z(a)||!fe(a)||(Object.assign(a.style,l),Object.keys(i).forEach(function(s){a.removeAttribute(s)}))})}}const ro={name:"applyStyles",enabled:!0,phase:"write",fn:to,effect:no,requires:["computeStyles"]};function ue(e){return e.split("-")[0]}var Ae=Math.max,ht=Math.min,Le=Math.round;function Rt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Hn(){return!/^((?!chrome|android).)*safari/i.test(Rt())}function Be(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=e.getBoundingClientRect(),a=1,i=1;t&&Z(e)&&(a=e.offsetWidth>0&&Le(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Le(o.height)/e.offsetHeight||1);var c=Re(e)?Q(e):window,l=c.visualViewport,s=!Hn()&&r,m=(o.left+(s&&l?l.offsetLeft:0))/a,p=(o.top+(s&&l?l.offsetTop:0))/i,w=o.width/a,x=o.height/i;return{width:w,height:x,top:p,right:m+w,bottom:p+x,left:m,x:m,y:p}}function Bt(e){var t=Be(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function Vn(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Lt(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ve(e){return Q(e).getComputedStyle(e)}function oo(e){return["table","td","th"].indexOf(fe(e))>=0}function Te(e){return((Re(e)?e.ownerDocument:e.document)||window.document).documentElement}function wt(e){return fe(e)==="html"?e:e.assignedSlot||e.parentNode||(Lt(e)?e.host:null)||Te(e)}function cn(e){return!Z(e)||ve(e).position==="fixed"?null:e.offsetParent}function ao(e){var t=/firefox/i.test(Rt()),r=/Trident/i.test(Rt());if(r&&Z(e)){var o=ve(e);if(o.position==="fixed")return null}var a=wt(e);for(Lt(a)&&(a=a.host);Z(a)&&["html","body"].indexOf(fe(a))<0;){var i=ve(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function et(e){for(var t=Q(e),r=cn(e);r&&oo(r)&&ve(r).position==="static";)r=cn(r);return r&&(fe(r)==="html"||fe(r)==="body"&&ve(r).position==="static")?t:r||ao(e)||t}function Ft(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xe(e,t,r){return Ae(e,ht(t,r))}function io(e,t,r){var o=Xe(e,t,r);return o>r?r:o}function Gn(){return{top:0,right:0,bottom:0,left:0}}function Yn(e){return Object.assign({},Gn(),e)}function Xn(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var so=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Yn(typeof t!="number"?t:Xn(t,Ze))};function lo(e){var t,r=e.state,o=e.name,a=e.options,i=r.elements.arrow,c=r.modifiersData.popperOffsets,l=ue(r.placement),s=Ft(l),m=[X,te].indexOf(l)>=0,p=m?"height":"width";if(!(!i||!c)){var w=so(a.padding,r),x=Bt(i),b=s==="y"?Y:X,T=s==="y"?ee:te,P=r.rects.reference[p]+r.rects.reference[s]-c[s]-r.rects.popper[p],D=c[s]-r.rects.reference[s],S=et(i),v=S?s==="y"?S.clientHeight||0:S.clientWidth||0:0,g=P/2-D/2,h=w[b],d=v-x[p]-w[T],y=v/2-x[p]/2+g,C=Xe(h,y,d),k=s;r.modifiersData[o]=(t={},t[k]=C,t.centerOffset=C-y,t)}}function co(e){var t=e.state,r=e.options,o=r.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Vn(t.elements.popper,a)&&(t.elements.arrow=a))}const po={name:"arrow",enabled:!0,phase:"main",fn:lo,effect:co,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fe(e){return e.split("-")[1]}var uo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fo(e,t){var r=e.x,o=e.y,a=t.devicePixelRatio||1;return{x:Le(r*a)/a||0,y:Le(o*a)/a||0}}function pn(e){var t,r=e.popper,o=e.popperRect,a=e.placement,i=e.variation,c=e.offsets,l=e.position,s=e.gpuAcceleration,m=e.adaptive,p=e.roundOffsets,w=e.isFixed,x=c.x,b=x===void 0?0:x,T=c.y,P=T===void 0?0:T,D=typeof p=="function"?p({x:b,y:P}):{x:b,y:P};b=D.x,P=D.y;var S=c.hasOwnProperty("x"),v=c.hasOwnProperty("y"),g=X,h=Y,d=window;if(m){var y=et(r),C="clientHeight",k="clientWidth";if(y===Q(r)&&(y=Te(r),ve(y).position!=="static"&&l==="absolute"&&(C="scrollHeight",k="scrollWidth")),y=y,a===Y||(a===X||a===te)&&i===Ke){h=ee;var j=w&&y===d&&d.visualViewport?d.visualViewport.height:y[C];P-=j-o.height,P*=s?1:-1}if(a===X||(a===Y||a===ee)&&i===Ke){g=te;var O=w&&y===d&&d.visualViewport?d.visualViewport.width:y[k];b-=O-o.width,b*=s?1:-1}}var R=Object.assign({position:l},m&&uo),M=p===!0?fo({x:b,y:P},Q(r)):{x:b,y:P};if(b=M.x,P=M.y,s){var B;return Object.assign({},R,(B={},B[h]=v?"0":"",B[g]=S?"0":"",B.transform=(d.devicePixelRatio||1)<=1?"translate("+b+"px, "+P+"px)":"translate3d("+b+"px, "+P+"px, 0)",B))}return Object.assign({},R,(t={},t[h]=v?P+"px":"",t[g]=S?b+"px":"",t.transform="",t))}function mo(e){var t=e.state,r=e.options,o=r.gpuAcceleration,a=o===void 0?!0:o,i=r.adaptive,c=i===void 0?!0:i,l=r.roundOffsets,s=l===void 0?!0:l,m={placement:ue(t.placement),variation:Fe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,pn(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:s})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,pn(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ho={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mo,data:{}};var pt={passive:!0};function go(e){var t=e.state,r=e.instance,o=e.options,a=o.scroll,i=a===void 0?!0:a,c=o.resize,l=c===void 0?!0:c,s=Q(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&m.forEach(function(p){p.addEventListener("scroll",r.update,pt)}),l&&s.addEventListener("resize",r.update,pt),function(){i&&m.forEach(function(p){p.removeEventListener("scroll",r.update,pt)}),l&&s.removeEventListener("resize",r.update,pt)}}const xo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:go,data:{}};var vo={left:"right",right:"left",bottom:"top",top:"bottom"};function ft(e){return e.replace(/left|right|bottom|top/g,function(t){return vo[t]})}var bo={start:"end",end:"start"};function dn(e){return e.replace(/start|end/g,function(t){return bo[t]})}function qt(e){var t=Q(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function zt(e){return Be(Te(e)).left+qt(e).scrollLeft}function yo(e,t){var r=Q(e),o=Te(e),a=r.visualViewport,i=o.clientWidth,c=o.clientHeight,l=0,s=0;if(a){i=a.width,c=a.height;var m=Hn();(m||!m&&t==="fixed")&&(l=a.offsetLeft,s=a.offsetTop)}return{width:i,height:c,x:l+zt(e),y:s}}function jo(e){var t,r=Te(e),o=qt(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Ae(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=Ae(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-o.scrollLeft+zt(e),s=-o.scrollTop;return ve(a||r).direction==="rtl"&&(l+=Ae(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:c,x:l,y:s}}function _t(e){var t=ve(e),r=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+o)}function Jn(e){return["html","body","#document"].indexOf(fe(e))>=0?e.ownerDocument.body:Z(e)&&_t(e)?e:Jn(wt(e))}function Je(e,t){var r;t===void 0&&(t=[]);var o=Jn(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=Q(o),c=a?[i].concat(i.visualViewport||[],_t(o)?o:[]):o,l=t.concat(c);return a?l:l.concat(Je(wt(c)))}function $t(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function wo(e,t){var r=Be(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function un(e,t,r){return t===_n?$t(yo(e,r)):Re(t)?wo(t,r):$t(jo(Te(e)))}function Po(e){var t=Je(wt(e)),r=["absolute","fixed"].indexOf(ve(e).position)>=0,o=r&&Z(e)?et(e):e;return Re(o)?t.filter(function(a){return Re(a)&&Vn(a,o)&&fe(a)!=="body"}):[]}function Co(e,t,r,o){var a=t==="clippingParents"?Po(e):[].concat(t),i=[].concat(a,[r]),c=i[0],l=i.reduce(function(s,m){var p=un(e,m,o);return s.top=Ae(p.top,s.top),s.right=ht(p.right,s.right),s.bottom=ht(p.bottom,s.bottom),s.left=Ae(p.left,s.left),s},un(e,c,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Kn(e){var t=e.reference,r=e.element,o=e.placement,a=o?ue(o):null,i=o?Fe(o):null,c=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,s;switch(a){case Y:s={x:c,y:t.y-r.height};break;case ee:s={x:c,y:t.y+t.height};break;case te:s={x:t.x+t.width,y:l};break;case X:s={x:t.x-r.width,y:l};break;default:s={x:t.x,y:t.y}}var m=a?Ft(a):null;if(m!=null){var p=m==="y"?"height":"width";switch(i){case We:s[m]=s[m]-(t[p]/2-r[p]/2);break;case Ke:s[m]=s[m]+(t[p]/2-r[p]/2);break}}return s}function Qe(e,t){t===void 0&&(t={});var r=t,o=r.placement,a=o===void 0?e.placement:o,i=r.strategy,c=i===void 0?e.strategy:i,l=r.boundary,s=l===void 0?_r:l,m=r.rootBoundary,p=m===void 0?_n:m,w=r.elementContext,x=w===void 0?Ge:w,b=r.altBoundary,T=b===void 0?!1:b,P=r.padding,D=P===void 0?0:P,S=Yn(typeof D!="number"?D:Xn(D,Ze)),v=x===Ge?Ur:Ge,g=e.rects.popper,h=e.elements[T?v:x],d=Co(Re(h)?h:h.contextElement||Te(e.elements.popper),s,p,c),y=Be(e.elements.reference),C=Kn({reference:y,element:g,strategy:"absolute",placement:a}),k=$t(Object.assign({},g,C)),j=x===Ge?k:y,O={top:d.top-j.top+S.top,bottom:j.bottom-d.bottom+S.bottom,left:d.left-j.left+S.left,right:j.right-d.right+S.right},R=e.modifiersData.offset;if(x===Ge&&R){var M=R[a];Object.keys(O).forEach(function(B){var H=[te,ee].indexOf(B)>=0?1:-1,E=[Y,ee].indexOf(B)>=0?"y":"x";O[B]+=M[E]*H})}return O}function Do(e,t){t===void 0&&(t={});var r=t,o=r.placement,a=r.boundary,i=r.rootBoundary,c=r.padding,l=r.flipVariations,s=r.allowedAutoPlacements,m=s===void 0?Un:s,p=Fe(o),w=p?l?ln:ln.filter(function(T){return Fe(T)===p}):Ze,x=w.filter(function(T){return m.indexOf(T)>=0});x.length===0&&(x=w);var b=x.reduce(function(T,P){return T[P]=Qe(e,{placement:P,boundary:a,rootBoundary:i,padding:c})[ue(P)],T},{});return Object.keys(b).sort(function(T,P){return b[T]-b[P]})}function To(e){if(ue(e)===Wt)return[];var t=ft(e);return[dn(e),t,dn(t)]}function So(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,c=r.altAxis,l=c===void 0?!0:c,s=r.fallbackPlacements,m=r.padding,p=r.boundary,w=r.rootBoundary,x=r.altBoundary,b=r.flipVariations,T=b===void 0?!0:b,P=r.allowedAutoPlacements,D=t.options.placement,S=ue(D),v=S===D,g=s||(v||!T?[ft(D)]:To(D)),h=[D].concat(g).reduce(function(F,U){return F.concat(ue(U)===Wt?Do(t,{placement:U,boundary:p,rootBoundary:w,padding:m,flipVariations:T,allowedAutoPlacements:P}):U)},[]),d=t.rects.reference,y=t.rects.popper,C=new Map,k=!0,j=h[0],O=0;O<h.length;O++){var R=h[O],M=ue(R),B=Fe(R)===We,H=[Y,ee].indexOf(M)>=0,E=H?"width":"height",A=Qe(t,{placement:R,boundary:p,rootBoundary:w,altBoundary:x,padding:m}),N=H?B?te:X:B?ee:Y;d[E]>y[E]&&(N=ft(N));var _=ft(N),G=[];if(i&&G.push(A[M]<=0),l&&G.push(A[N]<=0,A[_]<=0),G.every(function(F){return F})){j=R,k=!1;break}C.set(R,G)}if(k)for(var be=T?3:1,ye=function(U){var je=h.find(function(we){var V=C.get(we);if(V)return V.slice(0,U).every(function(ne){return ne})});if(je)return j=je,"break"},me=be;me>0;me--){var he=ye(me);if(he==="break")break}t.placement!==j&&(t.modifiersData[o]._skip=!0,t.placement=j,t.reset=!0)}}const Oo={name:"flip",enabled:!0,phase:"main",fn:So,requiresIfExists:["offset"],data:{_skip:!1}};function fn(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function mn(e){return[Y,te,ee,X].some(function(t){return e[t]>=0})}function Eo(e){var t=e.state,r=e.name,o=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,c=Qe(t,{elementContext:"reference"}),l=Qe(t,{altBoundary:!0}),s=fn(c,o),m=fn(l,a,i),p=mn(s),w=mn(m);t.modifiersData[r]={referenceClippingOffsets:s,popperEscapeOffsets:m,isReferenceHidden:p,hasPopperEscaped:w},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":w})}const ko={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Eo};function Ao(e,t,r){var o=ue(e),a=[X,Y].indexOf(o)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=i[0],l=i[1];return c=c||0,l=(l||0)*a,[X,te].indexOf(o)>=0?{x:l,y:c}:{x:c,y:l}}function Ro(e){var t=e.state,r=e.options,o=e.name,a=r.offset,i=a===void 0?[0,0]:a,c=Un.reduce(function(p,w){return p[w]=Ao(w,t.rects,i),p},{}),l=c[t.placement],s=l.x,m=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=m),t.modifiersData[o]=c}const $o={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ro};function Io(e){var t=e.state,r=e.name;t.modifiersData[r]=Kn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Mo={name:"popperOffsets",enabled:!0,phase:"read",fn:Io,data:{}};function No(e){return e==="x"?"y":"x"}function Wo(e){var t=e.state,r=e.options,o=e.name,a=r.mainAxis,i=a===void 0?!0:a,c=r.altAxis,l=c===void 0?!1:c,s=r.boundary,m=r.rootBoundary,p=r.altBoundary,w=r.padding,x=r.tether,b=x===void 0?!0:x,T=r.tetherOffset,P=T===void 0?0:T,D=Qe(t,{boundary:s,rootBoundary:m,padding:w,altBoundary:p}),S=ue(t.placement),v=Fe(t.placement),g=!v,h=Ft(S),d=No(h),y=t.modifiersData.popperOffsets,C=t.rects.reference,k=t.rects.popper,j=typeof P=="function"?P(Object.assign({},t.rects,{placement:t.placement})):P,O=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(y){if(i){var B,H=h==="y"?Y:X,E=h==="y"?ee:te,A=h==="y"?"height":"width",N=y[h],_=N+D[H],G=N-D[E],be=b?-k[A]/2:0,ye=v===We?C[A]:k[A],me=v===We?-k[A]:-C[A],he=t.elements.arrow,F=b&&he?Bt(he):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Gn(),je=U[H],we=U[E],V=Xe(0,C[A],F[A]),ne=g?C[A]/2-be-V-je-O.mainAxis:ye-V-je-O.mainAxis,$e=g?-C[A]/2+be+V+we+O.mainAxis:me+V+we+O.mainAxis,le=t.elements.arrow&&et(t.elements.arrow),Pt=le?h==="y"?le.clientTop||0:le.clientLeft||0:0,tt=(B=R==null?void 0:R[h])!=null?B:0,nt=N+ne-tt-Pt,ce=N+$e-tt,Ie=Xe(b?ht(_,nt):_,N,b?Ae(G,ce):G);y[h]=Ie,M[h]=Ie-N}if(l){var rt,Se=h==="x"?Y:X,ot=h==="x"?ee:te,re=y[d],Me=d==="y"?"height":"width",Oe=re+D[Se],Ne=re-D[ot],Pe=[Y,X].indexOf(S)!==-1,Ee=(rt=R==null?void 0:R[d])!=null?rt:0,pe=Pe?Oe:re-C[Me]-k[Me]-Ee+O.altAxis,ze=Pe?re+C[Me]+k[Me]-Ee-O.altAxis:Ne,at=b&&Pe?io(pe,re,ze):Xe(b?pe:Oe,re,b?ze:Ne);y[d]=at,M[d]=at-re}t.modifiersData[o]=M}}const Lo={name:"preventOverflow",enabled:!0,phase:"main",fn:Wo,requiresIfExists:["offset"]};function Bo(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Fo(e){return e===Q(e)||!Z(e)?qt(e):Bo(e)}function qo(e){var t=e.getBoundingClientRect(),r=Le(t.width)/e.offsetWidth||1,o=Le(t.height)/e.offsetHeight||1;return r!==1||o!==1}function zo(e,t,r){r===void 0&&(r=!1);var o=Z(t),a=Z(t)&&qo(t),i=Te(t),c=Be(e,a,r),l={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!r)&&((fe(t)!=="body"||_t(i))&&(l=Fo(t)),Z(t)?(s=Be(t,!0),s.x+=t.clientLeft,s.y+=t.clientTop):i&&(s.x=zt(i))),{x:c.left+l.scrollLeft-s.x,y:c.top+l.scrollTop-s.y,width:c.width,height:c.height}}function _o(e){var t=new Map,r=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var c=[].concat(i.requires||[],i.requiresIfExists||[]);c.forEach(function(l){if(!r.has(l)){var s=t.get(l);s&&a(s)}}),o.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),o}function Uo(e){var t=_o(e);return eo.reduce(function(r,o){return r.concat(t.filter(function(a){return a.phase===o}))},[])}function Ho(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Vo(e){var t=e.reduce(function(r,o){var a=r[o.name];return r[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var hn={placement:"bottom",modifiers:[],strategy:"absolute"};function gn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Go(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?hn:a;return function(l,s,m){m===void 0&&(m=i);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},hn,i),modifiersData:{},elements:{reference:l,popper:s},attributes:{},styles:{}},w=[],x=!1,b={state:p,setOptions:function(S){var v=typeof S=="function"?S(p.options):S;P(),p.options=Object.assign({},i,p.options,v),p.scrollParents={reference:Re(l)?Je(l):l.contextElement?Je(l.contextElement):[],popper:Je(s)};var g=Uo(Vo([].concat(o,p.options.modifiers)));return p.orderedModifiers=g.filter(function(h){return h.enabled}),T(),b.update()},forceUpdate:function(){if(!x){var S=p.elements,v=S.reference,g=S.popper;if(gn(v,g)){p.rects={reference:zo(v,et(g),p.options.strategy==="fixed"),popper:Bt(g)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(O){return p.modifiersData[O.name]=Object.assign({},O.data)});for(var h=0;h<p.orderedModifiers.length;h++){if(p.reset===!0){p.reset=!1,h=-1;continue}var d=p.orderedModifiers[h],y=d.fn,C=d.options,k=C===void 0?{}:C,j=d.name;typeof y=="function"&&(p=y({state:p,options:k,name:j,instance:b})||p)}}}},update:Ho(function(){return new Promise(function(D){b.forceUpdate(),D(p)})}),destroy:function(){P(),x=!0}};if(!gn(l,s))return b;b.setOptions(m).then(function(D){!x&&m.onFirstUpdate&&m.onFirstUpdate(D)});function T(){p.orderedModifiers.forEach(function(D){var S=D.name,v=D.options,g=v===void 0?{}:v,h=D.effect;if(typeof h=="function"){var d=h({state:p,name:S,instance:b,options:g}),y=function(){};w.push(d||y)}})}function P(){w.forEach(function(D){return D()}),w=[]}return b}}var Yo=[xo,Mo,ho,ro,$o,Oo,Lo,po,ko],Xo=Go({defaultModifiers:Yo});function Jo(e){return yn("MuiPopper",e)}jn("MuiPopper",["root"]);const Ko=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Qo=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Zo(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function It(e){return typeof e=="function"?e():e}function ea(e){return e.nodeType!==void 0}const ta=()=>wn({root:["root"]},zr(Jo)),na={},ra=f.forwardRef(function(t,r){var o;const{anchorEl:a,children:i,direction:c,disablePortal:l,modifiers:s,open:m,placement:p,popperOptions:w,popperRef:x,slotProps:b={},slots:T={},TransitionProps:P}=t,D=gt(t,Ko),S=f.useRef(null),v=kt(S,r),g=f.useRef(null),h=kt(g,x),d=f.useRef(h);an(()=>{d.current=h},[h]),f.useImperativeHandle(x,()=>g.current,[]);const y=Zo(p,c),[C,k]=f.useState(y),[j,O]=f.useState(It(a));f.useEffect(()=>{g.current&&g.current.forceUpdate()}),f.useEffect(()=>{a&&O(It(a))},[a]),an(()=>{if(!j||!m)return;const E=_=>{k(_.placement)};let A=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:_})=>{E(_)}}];s!=null&&(A=A.concat(s)),w&&w.modifiers!=null&&(A=A.concat(w.modifiers));const N=Xo(j,S.current,W({placement:y},w,{modifiers:A}));return d.current(N),()=>{N.destroy(),d.current(null)}},[j,l,s,m,w,y]);const R={placement:C};P!==null&&(R.TransitionProps=P);const M=ta(),B=(o=T.root)!=null?o:"div",H=kr({elementType:B,externalSlotProps:b.root,externalForwardedProps:D,additionalProps:{role:"tooltip",ref:v},ownerState:t,className:M.root});return n.jsx(B,W({},H,{children:typeof i=="function"?i(R):i}))}),oa=f.forwardRef(function(t,r){const{anchorEl:o,children:a,container:i,direction:c="ltr",disablePortal:l=!1,keepMounted:s=!1,modifiers:m,open:p,placement:w="bottom",popperOptions:x=na,popperRef:b,style:T,transition:P=!1,slotProps:D={},slots:S={}}=t,v=gt(t,Qo),[g,h]=f.useState(!0),d=()=>{h(!1)},y=()=>{h(!0)};if(!s&&!p&&(!P||g))return null;let C;if(i)C=i;else if(o){const O=It(o);C=O&&ea(O)?on(O).body:on(null).body}const k=!p&&s&&(!P||g)?"none":void 0,j=P?{in:p,onEnter:d,onExited:y}:void 0;return n.jsx(Er,{disablePortal:l,container:C,children:n.jsx(ra,W({anchorEl:o,direction:c,disablePortal:l,modifiers:m,ref:r,open:P?!g:p,placement:w,popperOptions:x,popperRef:b,slotProps:D,slots:S},v,{style:W({position:"fixed",top:0,left:0,display:k},T),TransitionProps:j,children:a}))})}),aa=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],ia=xt(oa,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),sa=f.forwardRef(function(t,r){var o;const a=Ar(),i=Pn({props:t,name:"MuiPopper"}),{anchorEl:c,component:l,components:s,componentsProps:m,container:p,disablePortal:w,keepMounted:x,modifiers:b,open:T,placement:P,popperOptions:D,popperRef:S,transition:v,slots:g,slotProps:h}=i,d=gt(i,aa),y=(o=g==null?void 0:g.root)!=null?o:s==null?void 0:s.Root,C=W({anchorEl:c,container:p,disablePortal:w,keepMounted:x,modifiers:b,open:T,placement:P,popperOptions:D,popperRef:S,transition:v},d);return n.jsx(ia,W({as:l,direction:a==null?void 0:a.direction,slots:{root:y},slotProps:h??m},C,{ref:r}))}),Qn=sa;function la(e){return yn("MuiTooltip",e)}const ca=jn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ce=ca,pa=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function da(e){return Math.round(e*1e5)/1e5}const ua=e=>{const{classes:t,disableInteractive:r,arrow:o,touch:a,placement:i}=e,c={popper:["popper",!r&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",a&&"touch",`tooltipPlacement${Cn(i.split("-")[0])}`],arrow:["arrow"]};return wn(c,la,t)},fa=xt(Qn,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>W({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Ce.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ce.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ce.arrow}`]:W({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ce.arrow}`]:W({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),ma=xt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${Cn(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>W({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Dn(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${da(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Ce.popper}[data-popper-placement*="left"] &`]:W({transformOrigin:"right center"},t.isRtl?W({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):W({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Ce.popper}[data-popper-placement*="right"] &`]:W({transformOrigin:"left center"},t.isRtl?W({marginRight:"14px"},t.touch&&{marginRight:"24px"}):W({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Ce.popper}[data-popper-placement*="top"] &`]:W({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Ce.popper}[data-popper-placement*="bottom"] &`]:W({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),ha=xt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Dn(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let dt=!1,Et=null,Ye={x:0,y:0};function ut(e,t){return r=>{t&&t(r),e(r)}}const ga=f.forwardRef(function(t,r){var o,a,i,c,l,s,m,p,w,x,b,T,P,D,S,v,g,h,d;const y=Pn({props:t,name:"MuiTooltip"}),{arrow:C=!1,children:k,components:j={},componentsProps:O={},describeChild:R=!1,disableFocusListener:M=!1,disableHoverListener:B=!1,disableInteractive:H=!1,disableTouchListener:E=!1,enterDelay:A=100,enterNextDelay:N=0,enterTouchDelay:_=700,followCursor:G=!1,id:be,leaveDelay:ye=0,leaveTouchDelay:me=1500,onClose:he,onOpen:F,open:U,placement:je="bottom",PopperComponent:we,PopperProps:V={},slotProps:ne={},slots:$e={},title:le,TransitionComponent:Pt=sn,TransitionProps:tt}=y,nt=gt(y,pa),ce=f.isValidElement(k)?k:n.jsx("span",{children:k}),Ie=Rr(),rt=Ie.direction==="rtl",[Se,ot]=f.useState(),[re,Me]=f.useState(null),Oe=f.useRef(!1),Ne=H||G,Pe=f.useRef(),Ee=f.useRef(),pe=f.useRef(),ze=f.useRef(),[at,Ut]=Nr({controlled:U,default:!1,name:"Tooltip",state:"open"});let ge=at;const Ct=Wr(be),_e=f.useRef(),it=f.useCallback(()=>{_e.current!==void 0&&(document.body.style.WebkitUserSelect=_e.current,_e.current=void 0),clearTimeout(ze.current)},[]);f.useEffect(()=>()=>{clearTimeout(Pe.current),clearTimeout(Ee.current),clearTimeout(pe.current),it()},[it]);const Ht=$=>{clearTimeout(Et),dt=!0,Ut(!0),F&&!ge&&F($)},st=$r($=>{clearTimeout(Et),Et=setTimeout(()=>{dt=!1},800+ye),Ut(!1),he&&ge&&he($),clearTimeout(Pe.current),Pe.current=setTimeout(()=>{Oe.current=!1},Ie.transitions.duration.shortest)}),Dt=$=>{Oe.current&&$.type!=="touchstart"||(Se&&Se.removeAttribute("title"),clearTimeout(Ee.current),clearTimeout(pe.current),A||dt&&N?Ee.current=setTimeout(()=>{Ht($)},dt?N:A):Ht($))},Vt=$=>{clearTimeout(Ee.current),clearTimeout(pe.current),pe.current=setTimeout(()=>{st($)},ye)},{isFocusVisibleRef:Gt,onBlur:xr,onFocus:vr,ref:br}=Ir(),[,Yt]=f.useState(!1),Xt=$=>{xr($),Gt.current===!1&&(Yt(!1),Vt($))},Jt=$=>{Se||ot($.currentTarget),vr($),Gt.current===!0&&(Yt(!0),Dt($))},Kt=$=>{Oe.current=!0;const J=ce.props;J.onTouchStart&&J.onTouchStart($)},Qt=Dt,Zt=Vt,yr=$=>{Kt($),clearTimeout(pe.current),clearTimeout(Pe.current),it(),_e.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ze.current=setTimeout(()=>{document.body.style.WebkitUserSelect=_e.current,Dt($)},_)},jr=$=>{ce.props.onTouchEnd&&ce.props.onTouchEnd($),it(),clearTimeout(pe.current),pe.current=setTimeout(()=>{st($)},me)};f.useEffect(()=>{if(!ge)return;function $(J){(J.key==="Escape"||J.key==="Esc")&&st(J)}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[st,ge]);const wr=kt(ce.ref,br,ot,r);!le&&le!==0&&(ge=!1);const Tt=f.useRef(),Pr=$=>{const J=ce.props;J.onMouseMove&&J.onMouseMove($),Ye={x:$.clientX,y:$.clientY},Tt.current&&Tt.current.update()},Ue={},St=typeof le=="string";R?(Ue.title=!ge&&St&&!B?le:null,Ue["aria-describedby"]=ge?Ct:null):(Ue["aria-label"]=St?le:null,Ue["aria-labelledby"]=ge&&!St?Ct:null);const oe=W({},Ue,nt,ce.props,{className:lt(nt.className,ce.props.className),onTouchStart:Kt,ref:wr},G?{onMouseMove:Pr}:{}),He={};E||(oe.onTouchStart=yr,oe.onTouchEnd=jr),B||(oe.onMouseOver=ut(Qt,oe.onMouseOver),oe.onMouseLeave=ut(Zt,oe.onMouseLeave),Ne||(He.onMouseOver=Qt,He.onMouseLeave=Zt)),M||(oe.onFocus=ut(Jt,oe.onFocus),oe.onBlur=ut(Xt,oe.onBlur),Ne||(He.onFocus=Jt,He.onBlur=Xt));const Cr=f.useMemo(()=>{var $;let J=[{name:"arrow",enabled:!!re,options:{element:re,padding:4}}];return($=V.popperOptions)!=null&&$.modifiers&&(J=J.concat(V.popperOptions.modifiers)),W({},V.popperOptions,{modifiers:J})},[re,V]),Ve=W({},y,{isRtl:rt,arrow:C,disableInteractive:Ne,placement:je,PopperComponentProp:we,touch:Oe.current}),Ot=ua(Ve),en=(o=(a=$e.popper)!=null?a:j.Popper)!=null?o:fa,tn=(i=(c=(l=$e.transition)!=null?l:j.Transition)!=null?c:Pt)!=null?i:sn,nn=(s=(m=$e.tooltip)!=null?m:j.Tooltip)!=null?s:ma,rn=(p=(w=$e.arrow)!=null?w:j.Arrow)!=null?p:ha,Dr=ct(en,W({},V,(x=ne.popper)!=null?x:O.popper,{className:lt(Ot.popper,V==null?void 0:V.className,(b=(T=ne.popper)!=null?T:O.popper)==null?void 0:b.className)}),Ve),Tr=ct(tn,W({},tt,(P=ne.transition)!=null?P:O.transition),Ve),Sr=ct(nn,W({},(D=ne.tooltip)!=null?D:O.tooltip,{className:lt(Ot.tooltip,(S=(v=ne.tooltip)!=null?v:O.tooltip)==null?void 0:S.className)}),Ve),Or=ct(rn,W({},(g=ne.arrow)!=null?g:O.arrow,{className:lt(Ot.arrow,(h=(d=ne.arrow)!=null?d:O.arrow)==null?void 0:h.className)}),Ve);return n.jsxs(f.Fragment,{children:[f.cloneElement(ce,oe),n.jsx(en,W({as:we??Qn,placement:je,anchorEl:G?{getBoundingClientRect:()=>({top:Ye.y,left:Ye.x,right:Ye.x,bottom:Ye.y,width:0,height:0})}:Se,popperRef:Tt,open:Se?ge:!1,id:Ct,transition:!0},He,Dr,{popperOptions:Cr,children:({TransitionProps:$})=>n.jsx(tn,W({timeout:Ie.transitions.duration.shorter},$,Tr,{children:n.jsxs(nn,W({},Sr,{children:[le,C?n.jsx(rn,W({},Or,{ref:Me})):null]}))}))}))]})}),xn=ga,xa=e=>{if(!e||!e.data||e.data.length===0)return console.error("Buffer is empty or invalid."),"";try{const t=new Uint8Array(e.data);return`data:image/jpeg;base64,${btoa(String.fromCharCode(...t))}`}catch(t){return console.error("Error converting buffer to base64:",t),""}},Zn=({curentUser:e})=>{const[t,r]=f.useState("");f.useEffect(()=>{if(e.profileImage){const i=xa(e.profileImage);r(i)}},[e.profileImage]);const[o,a]=f.useState({avatar:e.profileImage,city:e.phone,country:"USA",jobTitle:"Senior Developer",name:e.name,timezone:"GMT-5:30"});return f.useEffect(()=>{a({avatar:e.profileImage,city:e.phone,country:"USA",jobTitle:"Senior Developer",name:e.name,timezone:"GMT-5:30"})},[e]),n.jsxs(ke,{children:[n.jsx($n,{children:n.jsxs(qe,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[n.jsx(Tn,{src:t,sx:{height:80,mb:2,width:80}}),n.jsx(z,{gutterBottom:!0,variant:"h5",children:o.name}),n.jsx(z,{color:"text.secondary",variant:"body2",children:o.city}),n.jsx(z,{color:"text.secondary",variant:"body2",children:o.lastLogin})]})}),n.jsx(Sn,{}),n.jsx(In,{children:n.jsx(se,{fullWidth:!0,variant:"text",children:"Upload picture"})})]})};Zn.propTypes={curentUser:u.any};function er({query:e}){return n.jsx(De,{children:n.jsx(q,{align:"center",colSpan:6,sx:{py:3},children:n.jsxs(On,{sx:{textAlign:"center"},children:[n.jsx(z,{variant:"h6",paragraph:!0,children:"Not found"}),n.jsxs(z,{variant:"body2",children:["No results found for  ",n.jsxs("strong",{children:['"',e,'"']}),".",n.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}er.propTypes={query:u.string};function tr({fetchPlans:e,selected:t,id:r,avatarUrl:o,name:a,startDate:i,PaymentDate:c,expiryDate:l,description:s,duration:m,price:p,status:w,handleClick:x}){return n.jsx(n.Fragment,{children:n.jsxs(De,{hover:!0,tabIndex:-1,duration:"checkbox",selected:t,children:[n.jsx(q,{padding:"checkbox"}),n.jsx(q,{component:"th",scope:"row",padding:"none",children:n.jsx(xe,{direction:"row",alignItems:"center",spacing:2,children:n.jsx(z,{variant:"subtitle2",noWrap:!0,children:a})})}),n.jsx(q,{children:new Date(i).toISOString().slice(0,10).split("T")[0]}),n.jsx(q,{children:new Date(l).toISOString().slice(0,10).split("T")[0]}),n.jsxs(q,{children:[m," Months"]}),n.jsx(q,{children:new Date(c).toISOString().slice(0,10).split("T")[0]}),n.jsx(q,{align:"center",children:p})]})})}tr.propTypes={avatarUrl:u.any,name:u.any,handleClick:u.func,fetchPlans:u.func,price:u.any,id:u.any,description:u.any,duration:u.any,startDate:u.any,expiryDate:u.any,PaymentDate:u.any,selected:u.any,status:u.string};const va={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function ba(e,t,r){return e?Math.max(0,(1+e)*t-r):0}function vn(e,t,r){return e[r]===null?1:t[r]===null||t[r]<e[r]?-1:t[r]>e[r]?1:0}function ya(e,t){return e==="desc"?(r,o)=>vn(r,o,t):(r,o)=>-vn(r,o,t)}function ja({inputData:e,comparator:t,filterName:r}){const o=e.map((a,i)=>[a,i]);return o.sort((a,i)=>{const c=t(a[0],i[0]);return c!==0?c:a[1]-i[1]}),e=o.map(a=>a[0]),r&&(e=e.filter(a=>a.name.toLowerCase().indexOf(r.toLowerCase())!==-1)),e}function nr({order:e,orderBy:t,rowCount:r,headLabel:o,numSelected:a,onRequestSort:i,onSelectAllClick:c}){const l=s=>m=>{i(m,s)};return n.jsx(Mn,{children:n.jsxs(De,{children:[n.jsx(q,{padding:"checkbox"}),o.map(s=>n.jsx(q,{align:s.align||"left",sortDirection:t===s.id?e:!1,sx:{width:s.width,minWidth:s.minWidth},children:n.jsxs(Nn,{hideSortIcon:!0,active:t===s.id,direction:t===s.id?e:"asc",onClick:l(s.id),children:[s.label,t===s.id?n.jsx(qe,{sx:{...va},children:e==="desc"?"sorted descending":"sorted ascending"}):null]})},s.id))]})})}nr.propTypes={order:u.oneOf(["asc","desc"]),orderBy:u.string,rowCount:u.number,headLabel:u.array,numSelected:u.number,onRequestSort:u.func,onSelectAllClick:u.func};function rr({emptyRows:e,height:t}){return e?n.jsx(De,{sx:{...t&&{height:t*e}},children:n.jsx(q,{colSpan:9})}):null}rr.propTypes={emptyRows:u.number,height:u.number};function or({numSelected:e,filterName:t,onFilterName:r}){return n.jsxs(En,{sx:{height:96,display:"flex",justifyContent:"space-between",p:o=>o.spacing(0,1,0,3),...e>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[e>0?n.jsxs(z,{component:"div",variant:"subtitle1",children:[e," selected"]}):n.jsx(qn,{value:t,onChange:r,placeholder:"Search plan...",startAdornment:n.jsx(kn,{position:"start",children:n.jsx(ae,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}),e>0?n.jsx(xn,{title:"Delete",children:n.jsx(At,{children:n.jsx(ae,{icon:"eva:trash-2-fill"})})}):n.jsx(xn,{title:"Filter list",children:n.jsx(At,{children:n.jsx(ae,{icon:"ic:round-filter-list"})})})]})}or.propTypes={numSelected:u.number,filterName:u.string,onFilterName:u.func};function ar({payments:e}){console.log(e);const[t,r]=f.useState(0),[o]=f.useState("All Plans"),[a,i]=f.useState([]),[c,l]=f.useState("asc"),[s,m]=f.useState([]),[p,w]=f.useState("name"),[x,b]=f.useState(""),[T,P]=f.useState(5),D=(j,O)=>{O!==""&&(l(p===O&&c==="asc"?"desc":"asc"),w(O))},S=async()=>{try{const j=await de.get("https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/plan");i(j.data),console.log("Error fetcaing plans:",j.data)}catch(j){console.error("Error fetcaing plans:",j)}};f.useEffect(()=>{S()},[o]);const v=j=>{if(j.target.checked){const O=a.map(R=>R.name);m(O);return}m([])},g=(j,O)=>{const R=s.indexOf(O);let M=[];R===-1?M=M.concat(s,O):R===0?M=M.concat(s.slice(1)):R===s.length-1?M=M.concat(s.slice(0,-1)):R>0&&(M=M.concat(s.slice(0,R),s.slice(R+1))),m(M)},h=(j,O)=>{r(O)},d=j=>{r(0),P(parseInt(j.target.value,10))},y=j=>{r(0),b(j.target.value)},C=ja({inputData:e,comparator:ya(c,p),filterName:x}),k=!C.length&&!!x;return n.jsxs(Mt,{children:[n.jsx("h3",{children:" All Payment History"}),n.jsxs(ke,{children:[n.jsxs(n.Fragment,{children:[n.jsx(or,{numSelected:s.length,filterName:x,onFilterName:y}),n.jsx(An,{children:n.jsx(Wn,{sx:{overflow:"unset"},children:n.jsxs(Ln,{sx:{minWidth:800},children:[n.jsx(nr,{order:c,orderBy:p,rowCount:a.length,numSelected:s.length,onRequestSort:D,onSelectAllClick:v,headLabel:[{id:"name",label:"Plan Name"},{id:"startDate",label:"Start Date"},{id:"endDate",label:"End Date"},{id:"duration",label:"Plan Duration (in Months)"},{id:"payDate",label:"Payment Date"},{id:"price",label:"Price",align:"center"},{id:""}]}),n.jsxs(Bn,{children:[C.slice(t*T,t*T+T).map(j=>n.jsx(tr,{fetchPlans:S,id:j._id,name:j.plan.name,duration:j.plan.duration,description:j.plan.description,PaymentDate:j.date,startDate:j.joiningDate,expiryDate:j.expiryDate,price:j.plan.price,status:j.isActive?"active":"inactive",avatarUrl:j.avatarUrl,selected:s.indexOf(j.name)!==-1,handleClick:O=>g(O,j.name)},j._id)),n.jsx(rr,{height:77,emptyRows:ba(t,T,a.length)}),k&&n.jsx(er,{query:x})]})]})})}),n.jsx(Fn,{page:t,component:"div",count:a.length,rowsPerPage:T,onPageChange:h,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:d})]})," "]})]})}ar.propTypes={payments:u.any};const ir=({curentUser:e})=>{console.log("edr hi "),console.log(e),console.log(e);const[t,r]=f.useState({name:e.name,phone:e.phone,email:e.email,address:e.address,dateOfBirth:e.dateOfBirth,joiningDate:e.joiningDate,expiryDate:e.expiryDate,latestPlanName:e.latestPlanName,latestPaymentDate:e.latestPaymentDate,membershipPlan:e.membershipPlan,payments:e.payments,workoutType:e.workoutType});f.useEffect(()=>{r({name:e.name,phone:e.phone,email:e.email,address:e.address,joiningDate:e.joiningDate,dateOfBirth:e.dateOfBirth,expiryDate:e.expiryDate,latestPlanName:e.latestPlanName,latestPaymentDate:e.latestPaymentDate,membershipPlan:e.membershipPlan,payments:e.payments,workoutType:e.workoutType})},[e]);const o=f.useCallback(i=>{r(c=>({...c,[i.target.name]:i.target.value}))},[]),a=f.useCallback(i=>{i.preventDefault()},[]);return n.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:a,children:n.jsxs(ke,{children:[n.jsx(Lr,{subheader:"Please contact admin if your details are wrong",title:"Profile"}),n.jsx($n,{sx:{pt:0},children:n.jsx(qe,{sx:{m:1.5},children:n.jsxs(K,{container:!0,spacing:3,children:[n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"Name",name:"name",onChange:o,required:!0,disabled:!0,value:t.name})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"Email Address",name:"email",onChange:o,disabled:!0,value:t.email})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"Phone Number",name:"phone",onChange:o,value:t.phone,disabled:!0})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"joiningDate",name:"joiningDate",onChange:o,disabled:!0,value:new Date(t.joiningDate).toISOString().slice(0,10).split("T")[0]})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"expiryDate",name:"expiryDate",onChange:o,disabled:!0,value:new Date(t.expiryDate).toISOString().slice(0,10).split("T")[0]})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"dob",name:"dob",onChange:o,disabled:!0,value:new Date(t.dateOfBirth).toISOString().slice(0,10).split("T")[0]})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"latestPlanName",name:"latestPlanName",onChange:o,disabled:!0,value:t.latestPlanName})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"latestPaymentDate.",name:"latestPaymentDate",onChange:o,disabled:!0,value:new Date(t.latestPaymentDate).toISOString().slice(0,10).split("T")[0]})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"membershipPlan",name:"membershipPlan",onChange:o,disabled:!0,value:t.membershipPlan})}),n.jsx(K,{xs:12,md:6,children:n.jsx(L,{fullWidth:!0,label:"address",name:"address",onChange:o,disabled:!0,value:t.address})})]})})}),n.jsx(Sn,{}),n.jsx(ar,{payments:t.payments}),n.jsx(In,{sx:{justifyContent:"flex-end"}})]})})};ir.propTypes={curentUser:u.any};const sr=({curentUser:e})=>n.jsxs(n.Fragment,{children:[n.jsx(Rn,{children:n.jsx("title",{children:" User | GYM "})}),n.jsx(qe,{component:"main",sx:{flexGrow:1,py:8},children:n.jsx(Mt,{maxWidth:"lg",children:n.jsxs(xe,{spacing:3,children:[n.jsx("div",{children:n.jsx(z,{variant:"h4",children:"Account"})}),n.jsxs("div",{children:[n.jsx(K,{container:!0,spacing:3,children:n.jsx(K,{xs:12,md:6,lg:4,children:n.jsx(Zn,{curentUser:e})})}),n.jsx(ir,{curentUser:e})]})]})})})]}),wa=sr;sr.propTypes={curentUser:u.any};function lr({setClickedTitle:e}){const[t,r]=f.useState({name:"",email:"",phone:"",address:"",membershipPlan:"",dateOfBirth:new Date().toISOString().slice(0,10).split("T")[0],gender:"",latestPlanName:"",duration:0,joiningDate:new Date().toISOString().slice(0,10).split("T")[0],expiryDate:new Date().toISOString().slice(0,10).split("T")[0],latestPaymentDate:new Date().toISOString().slice(0,10).split("T")[0],payments:[],assignedTrainer:"6629ead5ebdf400ddbea7688",workoutType:"Fitness",isActive:!0,notes:"",profileImage:null}),[o,a]=f.useState([]),[i,c]=f.useState(null),[l,s]=f.useState(null),[m,p]=f.useState(!1);f.useEffect(()=>{w()},[]);const w=async()=>{try{const v=await de.get("https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/plan/active");a(v.data)}catch(v){console.error("Error fetching plans:",v),s("Error fetching plans")}},x=v=>{const{name:g,value:h,type:d,files:y}=v.target;r(d==="file"?{...t,profileImage:y[0]}:{...t,[g]:h})},b=(v,g)=>{const h=new Date(v);return h.setMonth(h.getMonth()+g),h.toISOString().split("T")[0]},T=v=>{const{name:g,value:h}=v.target;if(t.membershipPlan){const y=o.find(C=>C._id===t.membershipPlan).duration;r({...t,[g]:h,expiryDate:b(new Date(h),y)})}else console.error("No plan selected"),s("Please select a membership plan first")},P=v=>{const{name:g,value:h}=v.target;r({...t,[g]:h})},D=v=>{const{value:g}=v.target,h=o.find(d=>d._id===g);if(h){c(h),console.log(h);const d=t.joiningDate.split("T")[0],y=b(new Date(d),h.duration),C=[{amount:h.price,date:new Date,paymentMethod:"Cash",joiningDate:t.joiningDate,expiryDate:y,plan:{planId:h._id,name:h.name,duration:h.duration,price:h.price}}];console.log("Initial payments:",C),r({...t,membershipPlan:g,duration:h.duration,latestPaymentAmount:h.price,expiryDate:y,latestPlanName:h.name,payments:C})}else console.error("Selected plan not found"),s("Selected plan not found")},S=async()=>{p(!0);try{const v=localStorage.getItem("token"),g=new FormData;Object.keys(t).forEach(d=>{t[d]!==null&&(typeof t[d]=="object"&&d==="profileImage"?g.append(d,t[d]):typeof t[d]=="object"?g.append(d,JSON.stringify(t[d])):g.append(d,t[d]))}),console.log("Oi'm here"),console.log(g);const h=await de.post("https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/member/add",g,{headers:{Authorization:v,"Content-Type":"multipart/form-data"}});console.log(t),console.log(t),console.log("User added successfully:",h.data),r({name:"",email:"",phone:"",address:"",membershipPlan:"",dateOfBirth:new Date().toISOString().slice(0,10).split("T")[0],gender:"",latestPlanName:"",joiningDate:new Date().toISOString().slice(0,10).split("T")[0],expiryDate:new Date().toISOString().slice(0,10).split("T")[0],latestPaymentDate:new Date().toISOString().slice(0,10).split("T")[0],payments:[],assignedTrainer:"6629ead5ebdf400ddbea7688",workoutType:"Fitness",isActive:!0,notes:"",duration:0}),c(null),s("User Added Successfully"),e("All Users")}catch(v){console.error("Error adding user:",v),s(v.response.data.error)}finally{p(!1)}};return n.jsxs(I,{columnGap:1,item:!0,xs:!0,zeroMinWidth:!0,spacing:2,m:3,children:[n.jsx("h1",{children:" Add New User"}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsx(L,{label:"Name",variant:"outlined",fullWidth:!0,name:"name",value:t.name,onChange:x,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsx(L,{label:"Email",variant:"outlined",fullWidth:!0,name:"email",value:t.email,onChange:x,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsx(L,{label:"Phone",variant:"outlined",fullWidth:!0,name:"phone",value:t.phone,onChange:x,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsx(L,{label:"Address",variant:"outlined",fullWidth:!0,name:"address",value:t.address,onChange:x,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsx(L,{label:"Date of Birth",variant:"outlined",type:"date",fullWidth:!0,name:"dateOfBirth",value:t.dateOfBirth,onChange:P,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsxs(L,{select:!0,label:"Gender",variant:"outlined",fullWidth:!0,name:"gender",value:t.gender,onChange:x,sx:{mb:2},children:[n.jsx(ie,{value:"Male",children:"Male"}),n.jsx(ie,{value:"Female",children:"Female"}),n.jsx(ie,{value:"Other",children:"Other"})]})}),n.jsxs(I,{item:!0,xs:12,sm:6,md:6,children:[n.jsx(L,{select:!0,label:"Select Plan",variant:"outlined",fullWidth:!0,name:"membershipPlan",value:t.membershipPlan,onChange:v=>{x(v),D(v)},sx:{mb:2},children:o.map(v=>n.jsx(ie,{value:v._id,children:v.name},v._id))}),i&&n.jsxs(z,{variant:"body1",mx:2,children:[n.jsx("strong",{children:"Name:"})," ",i.name,", ",n.jsx("strong",{children:"Duration:"})," ",i.duration," months, ",n.jsx("strong",{children:"Price:"})," ₹",i.price]})]}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,my:2,children:n.jsx(L,{label:"Joining Date",variant:"outlined",fullWidth:!0,type:"date",name:"joiningDate",value:t.joiningDate,onChange:T,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsx(L,{label:"Expiry Date",variant:"outlined",fullWidth:!0,type:"date",name:"expiryDate",value:t.expiryDate,disabled:!0,sx:{mb:2}})}),n.jsxs(I,{item:!0,xs:12,sm:6,md:6,children:[n.jsx(z,{variant:"body2",gutterBottom:!0,children:"Upload Profile Image"}),n.jsx("input",{type:"file",accept:"image/*",onChange:x,name:"profileImage"})]}),n.jsxs(I,{item:!0,xs:12,sm:6,md:3,mx:3,my:4,children:[n.jsx(Nt,{variant:"contained",color:"primary",onClick:S,loading:m,children:"Add User"}),l&&n.jsx(z,{variant:"body2",color:"error",sx:{mt:1},children:l})]})]})}lr.propTypes={setClickedTitle:u.func};function cr({query:e}){return n.jsx(De,{children:n.jsx(q,{align:"center",colSpan:6,sx:{py:3},children:n.jsxs(On,{sx:{textAlign:"center"},children:[n.jsx(z,{variant:"h6",paragraph:!0,children:"Not found"}),n.jsxs(z,{variant:"body2",children:["No results found for  ",n.jsxs("strong",{children:['"',e,'"']}),".",n.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}cr.propTypes={query:u.string};function pr({isConfirmationEditOpen:e,setConfirmationEditOpen:t,name:r,id:o,email:a,phone:i,gender:c,role:l,fetchUsers:s}){const[m,p]=f.useState({name:r,email:a,phone:i,gender:c,role:l}),[w,x]=f.useState(null),b=P=>{const{name:D,value:S}=P.target;p({...m,[D]:S})},T=async()=>{try{const P=localStorage.getItem("token"),D=await de.put(`https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/member/modify/${o}`,m,{headers:{Authorization:`${P}`}});s(),console.log("User edited successfully:",D.data)}catch(P){console.error("Error editing user:",P),x(P.message)}t(!1)};return n.jsxs(vt,{open:e,onClose:()=>t(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n.jsx(bt,{id:"alert-dialog-title",children:"Edit User"}),n.jsx(yt,{children:n.jsxs(I,{container:!0,spacing:2,mt:3,children:[n.jsx(I,{item:!0,xs:12,children:n.jsx(L,{label:"Name",variant:"outlined",fullWidth:!0,name:"name",value:m.name,onChange:b,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,children:n.jsx(L,{label:"Email",variant:"outlined",fullWidth:!0,name:"email",value:m.email,onChange:b,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,children:n.jsx(L,{label:"Phone",variant:"outlined",fullWidth:!0,name:"phone",value:m.phone,onChange:b,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,children:n.jsx(L,{label:"Gender",variant:"outlined",fullWidth:!0,name:"gender",value:m.gender,onChange:b,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,children:w&&n.jsx(z,{variant:"body2",color:"error",children:w})})]})}),n.jsxs(jt,{children:[n.jsx(se,{onClick:()=>t(!1),color:"primary",children:"Cancel"}),n.jsx(se,{onClick:T,color:"primary",children:"Edit"})]})]})}pr.propTypes={setConfirmationEditOpen:u.func.isRequired,isConfirmationEditOpen:u.bool.isRequired,name:u.string.isRequired,email:u.string.isRequired,phone:u.string.isRequired,gender:u.string.isRequired,role:u.string.isRequired,id:u.string.isRequired,fetchUsers:u.func.isRequired};function dr({currentDataRow:e,isConfirmationEditOpen:t,setConfirmationEditOpen:r,id:o,fetchUsers:a}){const[i,c]=f.useState({name:e.name,planName:e.latestPlanName,currentExpiryDate:e.expiryDate,joiningDate:new Date(e.expiryDate).toISOString().split("T")[0],membershipPlan:"",expiryDate:new Date(e.expiryDate).toISOString().split("T")[0]}),[l,s]=f.useState([]),[m,p]=f.useState(null),[w,x]=f.useState(null),[b,T]=f.useState(!1);f.useEffect(()=>{P()},[]);const P=async()=>{try{const d=await de.get("https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/plan/active");s(d.data)}catch(d){console.error("Error fetching plans:",d),p("Error fetching plans")}},D=(d,y)=>{const C=new Date(d);return C.setMonth(C.getMonth()+y),C.toISOString().split("T")[0]},S=d=>{const{name:y,value:C}=d.target;if(w){const k=w.duration;c(j=>({...j,[y]:C,expiryDate:D(new Date(C),k)}))}else console.error("No plan selected"),p("Please select a membership plan first")},v=d=>{const{value:y}=d.target,C=l.find(k=>k._id===y);if(C){x(C);const k=D(new Date(i.joiningDate),C.duration);c(j=>({...j,membershipPlan:y,latestPaymentAmount:C.price,expiryDate:k,planName:C.name}))}else console.error("Selected plan not found"),p("Selected plan not found")},g=d=>{const{name:y,value:C}=d.target;c(k=>({...k,[y]:C}))},h=async()=>{if(T(!0),!w){p("Please select a plan");return}try{const d=localStorage.getItem("token"),y={amount:w.price,planId:w._id,joiningDate:i.joiningDate,expiryDate:i.expiryDate};await de.post(`https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/member/addPayment/${o}`,y,{headers:{Authorization:`${d}`}}),a(),r(!1),console.log("Payment added successfully")}catch(d){console.error("Error adding payment:",d),p(d.message)}finally{T(!1)}};return n.jsxs(vt,{open:t,onClose:()=>r(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n.jsx(bt,{id:"alert-dialog-title",children:"Add Payment"}),n.jsx(yt,{children:n.jsxs(I,{container:!0,spacing:2,mt:3,children:[n.jsx(I,{item:!0,xs:12,children:n.jsx(L,{label:"Name",variant:"outlined",fullWidth:!0,name:"name",value:i.name,onChange:g,sx:{mb:2},disabled:!0})}),n.jsx(I,{item:!0,xs:12,children:n.jsx(L,{label:"Current Plan",variant:"outlined",fullWidth:!0,name:"planName",value:i.planName,onChange:g,sx:{mb:2},disabled:!0})}),n.jsx(I,{item:!0,xs:12,children:n.jsx(L,{label:"Current Expiry Date",variant:"outlined",fullWidth:!0,name:"currentExpiryDate",value:i.currentExpiryDate.split("T")[0],onChange:g,sx:{mb:2},disabled:!0})}),n.jsxs(I,{item:!0,xs:12,children:[n.jsx(L,{select:!0,label:"Select Plan",variant:"outlined",fullWidth:!0,name:"membershipPlan",value:i.membershipPlan,onChange:d=>{g(d),v(d)},sx:{mb:2},children:l.map(d=>n.jsx(ie,{value:d._id,children:d.name},d._id))}),w&&n.jsxs(z,{variant:"body1",mx:2,children:[n.jsx("strong",{children:"Name:"})," ",w.name,", ",n.jsx("strong",{children:"Duration:"})," ",w.duration," months, ",n.jsx("strong",{children:"Price:"})," ₹",w.price]})]}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsx(L,{label:"Joining Date",variant:"outlined",fullWidth:!0,type:"date",name:"joiningDate",value:i.joiningDate,onChange:S,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,sm:6,md:6,children:n.jsx(L,{label:"Expiry Date",variant:"outlined",fullWidth:!0,type:"date",name:"expiryDate",value:i.expiryDate,disabled:!0,sx:{mb:2}})}),n.jsx(I,{item:!0,xs:12,children:m&&n.jsx(z,{variant:"body2",color:"error",children:m})})]})}),n.jsxs(jt,{children:[n.jsx(se,{onClick:()=>r(!1),color:"primary",children:"Cancel"}),n.jsx(Nt,{onClick:h,color:"primary",loading:b,children:"Add Payment"})]})]})}dr.propTypes={currentDataRow:u.object.isRequired,isConfirmationEditOpen:u.bool.isRequired,setConfirmationEditOpen:u.func.isRequired,id:u.string.isRequired,fetchUsers:u.func.isRequired};const Pa=e=>{if(!e||!e.data||e.data.length===0)return console.error("Buffer is empty or invalid."),"";try{const t=new Uint8Array(e.data);return`data:image/jpeg;base64,${btoa(String.fromCharCode(...t))}`}catch(t){return console.error("Error converting buffer to base64:",t),""}};function ur({selected:e,id:t,name:r,fetchUsers:o,avatarUrl:a,company:i,setcurentUser:c,role:l,isVerified:s,joiningDate:m,expiryDate:p,planName:w,email:x,phone:b,gender:T,status:P,handleClick:D,currentDataRow:S}){const[v,g]=f.useState(null),[h,d]=f.useState(!1),[y,C]=f.useState(!1),[k,j]=f.useState(!1),[O,R]=f.useState(!1),[M,B]=f.useState(!1),[H,E]=f.useState(!1),[A,N]=f.useState("");f.useEffect(()=>{if(a){const F=Pa(a);N(F)}},[a]);const _=F=>{g(F.currentTarget)},G=F=>{g(null),console.log("I'm here"),console.log(S),c(S)},be=()=>{g(null)},ye=async()=>{B(!0);try{const F=localStorage.getItem("token"),U=await de.delete(`https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/member/delete/${t}`,{headers:{Authorization:`${F}`}});o(),console.log("User deleted successfully:",U.data)}catch(F){console.error("Error deleting user:",F)}finally{B(!1),d(!1),g(null)}},me=async()=>{E(!0);try{g(null);const F=localStorage.getItem("token"),U=await de.patch(`https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/member/activate/${t}`,null,{headers:{Authorization:F}});o(),console.log("User activated successfully:",U.data)}catch(F){console.error("Error activating user:",F)}finally{E(!1),C(!1),g(null)}},he=async()=>{E(!0);try{g(null);const F=localStorage.getItem("token"),U=await de.patch(`https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/member/deactivate/${t}`,null,{headers:{Authorization:F}});o(),console.log("User deactivated successfully:",U.data)}catch(F){console.error("Error deactivating user:",F)}finally{E(!1),C(!1),g(null)}};return n.jsxs(n.Fragment,{children:[n.jsxs(De,{hover:!0,tabIndex:-1,role:"checkbox",selected:e,children:[n.jsx(q,{padding:"checkbox",children:n.jsx(zn,{disableRipple:!0,checked:e,onChange:D})}),n.jsx(q,{component:"th",scope:"row",padding:"none",children:n.jsxs(xe,{direction:"row",alignItems:"center",spacing:2,children:[n.jsx(Tn,{alt:r,src:A}),n.jsx(z,{sx:{cursor:"pointer"},onClick:G,variant:"subtitle2",noWrap:!0,children:r})]})}),n.jsx(q,{children:new Date(m).toISOString().slice(0,10).split("T")[0]}),n.jsx(q,{children:new Date(p).toISOString().slice(0,10).split("T")[0]}),n.jsx(q,{children:w}),n.jsx(q,{children:x}),n.jsx(q,{children:b}),n.jsx(q,{children:T}),n.jsx(q,{children:n.jsx(Br,{color:!s&&"error"||"success",children:s?"Active":"Disable"})}),n.jsx(q,{align:"right",children:n.jsx(At,{onClick:_,children:n.jsx(ae,{icon:"eva:more-vertical-fill"})})})]}),n.jsxs(Mr,{open:!!v,anchorEl:v,onClose:be,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[n.jsxs(ie,{onClick:()=>{g(null),j(!0)},children:[n.jsx(ae,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),n.jsxs(ie,{onClick:()=>{g(null),R(!0)},children:[n.jsx(ae,{icon:"eva:credit-card-outline",sx:{mr:2}}),"Payment"]}),n.jsxs(ie,{onClick:G,children:[n.jsx(ae,{icon:"eva:info-fill",sx:{mr:2}}),"Detail"]}),n.jsxs(ie,{onClick:()=>d(!0),sx:{color:"error.main"},children:[n.jsx(ae,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]}),P==="active"?n.jsxs(ie,{onClick:()=>C(!0),children:[n.jsx(ae,{icon:"eva:power-outline",sx:{mr:2}}),"Deactivate"]}):n.jsxs(ie,{onClick:()=>C(!0),children:[n.jsx(ae,{icon:"eva:power-outline",sx:{mr:2}}),"Activate"]})]}),n.jsxs(vt,{open:h,onClose:()=>d(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n.jsx(bt,{id:"alert-dialog-title",children:"Confirm Delete"}),n.jsx(yt,{children:n.jsxs(z,{variant:"body1",children:["Are you sure you want to delete ",r,"?"]})}),n.jsxs(jt,{children:[n.jsx(se,{onClick:()=>d(!1),color:"primary",children:"Cancel"}),n.jsx(Nt,{onClick:ye,color:"error",loading:M,autoFocus:!0,children:"Delete"})]})]}),n.jsx(fr,{open:y,setOpen:C,title:P==="active"?"Confirm Deactivation":"Confirm Activation",content:`Are you sure you want to ${P==="active"?"deactivate":"activate"} ${r}?`,onConfirm:P==="active"?he:me,loading:H}),n.jsx(pr,{id:t,isConfirmationEditOpen:k,setConfirmationEditOpen:j,name:r,email:x,phone:b,gender:T,role:l,fetchUsers:o}),n.jsx(dr,{id:t,isConfirmationEditOpen:O,setConfirmationEditOpen:R,name:r,email:x,phone:b,gender:T,role:l,fetchUsers:o,currentDataRow:S})]})}ur.propTypes={id:u.any,avatarUrl:u.any,company:u.any,handleClick:u.func,isVerified:u.any,name:u.any,role:u.any,selected:u.any,fetchUsers:u.any,status:u.string,joiningDate:u.any,expiryDate:u.any,planName:u.any,email:u.any,phone:u.any,gender:u.any,setcurentUser:u.any,currentDataRow:u.any};function fr({open:e,setOpen:t,title:r,content:o,onConfirm:a}){const i=()=>{t(!1)},c=()=>{a(),t(!1)};return n.jsxs(vt,{open:e,onClose:i,children:[n.jsx(bt,{children:r}),n.jsx(yt,{children:n.jsx(z,{variant:"body1",children:o})}),n.jsxs(jt,{children:[n.jsx(se,{onClick:i,color:"primary",children:"Cancel"}),n.jsx(se,{onClick:c,color:"error",children:"Confirm"})]})]})}fr.propTypes={open:u.bool.isRequired,setOpen:u.func.isRequired,title:u.string.isRequired,content:u.string.isRequired,onConfirm:u.func.isRequired};const Ca={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function Da(e,t,r){return e?Math.max(0,(1+e)*t-r):0}function bn(e,t,r){return e[r]===null?1:t[r]===null||t[r]<e[r]?-1:t[r]>e[r]?1:0}function Ta(e,t){return e==="desc"?(r,o)=>bn(r,o,t):(r,o)=>-bn(r,o,t)}function Sa({inputData:e,comparator:t,filterName:r}){const o=e.map((a,i)=>[a,i]);return o.sort((a,i)=>{const c=t(a[0],i[0]);return c!==0?c:a[1]-i[1]}),e=o.map(a=>a[0]),r&&(e=e.filter(a=>a.name.toLowerCase().indexOf(r.toLowerCase())!==-1)),e}function mr({order:e,orderBy:t,rowCount:r,headLabel:o,numSelected:a,onRequestSort:i,onSelectAllClick:c}){const l=s=>m=>{i(m,s)};return n.jsx(Mn,{children:n.jsxs(De,{children:[n.jsx(q,{padding:"checkbox",children:n.jsx(zn,{indeterminate:a>0&&a<r,checked:r>0&&a===r,onChange:c})}),o.map(s=>n.jsx(q,{align:s.align||"left",sortDirection:t===s.id?e:!1,sx:{width:s.width,minWidth:s.minWidth},children:n.jsxs(Nn,{hideSortIcon:!0,active:t===s.id,direction:t===s.id?e:"asc",onClick:l(s.id),children:[s.label,t===s.id?n.jsx(qe,{sx:{...Ca},children:e==="desc"?"sorted descending":"sorted ascending"}):null]})},s.id))]})})}mr.propTypes={order:u.oneOf(["asc","desc"]),orderBy:u.string,rowCount:u.number,headLabel:u.array,numSelected:u.number,onRequestSort:u.func,onSelectAllClick:u.func};function hr({emptyRows:e,height:t}){return e?n.jsx(De,{sx:{...t&&{height:t*e}},children:n.jsx(q,{colSpan:9})}):null}hr.propTypes={emptyRows:u.number,height:u.number};function gr({numSelected:e,filterName:t,onFilterName:r}){return n.jsx(En,{sx:{height:96,display:"flex",justifyContent:"space-between",p:o=>o.spacing(0,1,0,3),...e>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:e>0?n.jsxs(z,{component:"div",variant:"subtitle1",children:[e," selected"]}):n.jsx(qn,{value:t,onChange:r,placeholder:"Search user...",startAdornment:n.jsx(kn,{position:"start",children:n.jsx(ae,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})})})}gr.propTypes={numSelected:u.number,filterName:u.string,onFilterName:u.func};function mt({title:e,total:t,icon:r,color:o="primary",sx:a,...i}){return n.jsxs(ke,{component:xe,spacing:3,direction:"row",sx:{px:3,py:5,borderRadius:2,...a},...i,children:[r&&n.jsx(qe,{sx:{width:64,height:64},children:r}),n.jsxs(xe,{spacing:.5,children:[n.jsx(z,{variant:"h4",children:t}),n.jsx(z,{variant:"subtitle2",sx:{color:"text.disabled"},children:e})]})]})}mt.propTypes={color:u.string,icon:u.oneOfType([u.element,u.string]),sx:u.object,title:u.string,total:u.number};function Oa(){const[e,t]=f.useState(0),[r,o]=f.useState("all"),[a,i]=f.useState("all"),[c,l]=f.useState([]),[s,m]=f.useState(null),[p,w]=f.useState("asc"),[x,b]=f.useState([]),[T,P]=f.useState("name"),[D,S]=f.useState(""),[v,g]=f.useState(5),h=f.useRef(null);f.useEffect(()=>{s&&h.current&&h.current.scrollIntoView({behavior:"smooth"})},[s]);const d=(E,A)=>{A!==""&&(w(T===A&&p==="asc"?"desc":"asc"),P(A))},y=E=>{o(E)},C=E=>{if(E.target.checked){const A=c.map(N=>N.name);b(A);return}b([])},k=f.useCallback(async()=>{try{const E=localStorage.getItem("token"),A=await de.get(`https://nlfgymback-fnbebqhpgkemhwft.centralindia-01.azurewebsites.net/member/${r}/${r==="expiredUser"?a:""}`,{headers:{Authorization:E}});l(A.data.members),console.log(A.data),console.log("users Here:",A.data)}catch(E){console.error("Error fetching plans:",E)}},[r,a]);f.useEffect(()=>{k()},[k,r,a]);const j=(E,A)=>{const N=x.indexOf(A);let _=[];N===-1?_=_.concat(x,A):N===0?_=_.concat(x.slice(1)):N===x.length-1?_=_.concat(x.slice(0,-1)):N>0&&(_=_.concat(x.slice(0,N),x.slice(N+1))),b(_)},O=(E,A)=>{t(A)},R=E=>{t(0),g(parseInt(E.target.value,10))},M=E=>{t(0),S(E.target.value)},B=Sa({inputData:c,comparator:Ta(p,T),filterName:D}),H=!B.length&&!!D;return n.jsxs(Mt,{children:[n.jsx(xe,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:n.jsx(z,{variant:"h4",children:"Users"})}),n.jsxs(I,{container:!0,spacing:3,m:5,gap:4,children:[n.jsx(I,{xs:12,sm:6,md:3,children:n.jsx(mt,{total:"All users",color:"success",sx:{cursor:"pointer","&:hover":{cursor:"pointer"}},onClick:()=>y("all"),icon:n.jsx("img",{alt:"icon",src:"/assets/icons/glass/ic_glass_bag.png"})})}),n.jsx(I,{xs:12,sm:6,md:3,children:n.jsx(mt,{total:"Expired User",color:"success",sx:{cursor:"pointer","&:hover":{cursor:"pointer"}},onClick:()=>y("expiredUser"),icon:n.jsx("img",{alt:"icon",src:"/assets/icons/glass/ic_glass_bag.png"})})}),n.jsx(I,{xs:12,sm:6,md:3,children:n.jsx(mt,{total:"New Member",color:"info",sx:{cursor:"pointer","&:hover":{cursor:"pointer"}},onClick:()=>y("New Member"),icon:n.jsx("img",{alt:"icon",src:"/assets/icons/glass/ic_glass_users.png"})})})]}),(r==="all"||r==="expiredUser")&&n.jsxs(n.Fragment,{children:[n.jsxs(ke,{children:[n.jsx(gr,{numSelected:x.length,filterName:D,onFilterName:M}),r==="expiredUser"&&n.jsxs(n.Fragment,{children:[n.jsxs(xe,{direction:"row",alignItems:"center",justifyContent:"start",mb:3,m:4,gap:3,children:[n.jsx(se,{variant:"contained",color:"inherit",onClick:()=>i("all"),children:"All Expired"}),n.jsx(se,{variant:"contained",color:"inherit",onClick:()=>i("7"),children:"7 days"}),n.jsx(se,{variant:"contained",color:"inherit",onClick:()=>i("14"),children:"14 Days"}),n.jsx(se,{variant:"contained",color:"inherit",onClick:()=>i("31"),children:"1 Month"})]}),n.jsx(xe,{direction:"row",alignItems:"center",justifyContent:"start",mb:5,m:4,gap:3,children:n.jsxs("h4",{children:["Showing"," ",a==="all"?a:`the Last ${a} Days`," ","Expired Members"]})})]}),r==="all"&&n.jsx(xe,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:2,m:3,gap:3,children:n.jsx("h4",{children:"Showing All Members"})}),n.jsx(An,{children:n.jsx(Wn,{sx:{overflow:"unset"},children:n.jsxs(Ln,{sx:{minWidth:800},children:[n.jsx(mr,{order:p,orderBy:T,rowCount:c.length,numSelected:x.length,onRequestSort:d,onSelectAllClick:C,headLabel:[{id:"name",label:"Name",align:"center"},{id:"joiningDate",label:"Joining Date"},{id:"expiryDate",label:"Expiry Date"},{id:"planName",label:"Plan Name"},{id:"email",label:"Email"},{id:"phone",label:"Phone"},{id:"gender",label:"Gender"},{id:"status",label:"Status"},{id:""}]}),n.jsxs(Bn,{children:[B.slice(e*v,e*v+v).map(E=>n.jsx(ur,{id:E._id,name:E.name,role:E.role,joiningDate:E.joiningDate,expiryDate:E.expiryDate,planName:E.latestPlanName,email:E.email,fetchUsers:k,phone:E.phone,gender:E.gender,currentDataRow:E,company:E.company,setcurentUser:m,avatarUrl:E.profileImage,status:E.isActive?"active":"deactivate",isVerified:E.isActive,selected:x.indexOf(E._id)!==-1,handleClick:A=>j(A,E._id)},E._id)),n.jsx(hr,{height:77,emptyRows:Da(e,v,c.length)}),H&&n.jsx(cr,{query:D})]})]})})}),n.jsx(Fn,{page:e,component:"div",count:c.length,rowsPerPage:v,onPageChange:O,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:R})]}),s&&n.jsx("div",{ref:h,children:n.jsx(I,{xs:12,my:4,sm:6,md:3,children:n.jsx(ke,{children:n.jsx(wa,{curentUser:s})})})})]}),n.jsx(ke,{children:r==="New Member"&&n.jsx(lr,{})})]})}function La(){return n.jsxs(n.Fragment,{children:[n.jsx(Rn,{children:n.jsx("title",{children:" User | GYM "})}),n.jsx(Oa,{})]})}export{La as default};
